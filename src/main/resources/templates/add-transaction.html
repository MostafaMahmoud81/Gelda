<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>Deposit Money</title>
</head>
<body>
<h1>Deposit Money</h1>
<form id="depositForm">
  <label for="userId">User ID:</label>
  <input type="number" id="userId" name="userId" required><br><br>

  <label for="amount">Amount:</label>
  <input type="number" id="amount" name="amount" required><br><br>

  <button type="submit">Deposit</button>
</form>

<script>
  document.getElementById('depositForm').addEventListener('submit', function(event) {
      event.preventDefault();  // Prevent the form from submitting normally

      var userId = document.getElementById('userId').value;
      var amount = document.getElementById('amount').value;

      var data = {
          "amount": amount
      };

      fetch(`/api/transactions/${userId}/deposit`, {  // Using template literals for userId in URL
          method: 'POST',
          headers: {
              'Content-Type': 'application/json'
          },
          body: JSON.stringify(data)
      })
      .then(response => response.json())
      .then(data => {
          alert('Deposit successful!');
      })
      .catch(error => {
          console.error('Error:', error);
      });
  });
</script>

<a href="/transactions">Back to Transactions</a>
</body>
</html>
